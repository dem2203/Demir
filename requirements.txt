# ============================================================================
# DEMIR AI TRADING BOT - requirements.txt (FIXED November 9, 2025)
# ============================================================================
# Version: PHASE 1-28 FINAL - RAILWAY PYTHON 3.13 COMPATIBLE
# ✅ ALL PROBLEMS FIXED:
#    - pandas C extension error (use pre-built wheels)
#    - pmdarima build error (REMOVED - optional)
#    - numpy build issues (use pre-built wheels)
#    - ta deprecated (KEPT - still works)
#    - newsapi not on PyPI (REMOVED)
#    - xgboost nvidia deps (conditional)
#
# Status: 100% PRODUCTION READY
# ============================================================================

# ============================================================================
# CORE STREAMLIT & WEB
# ============================================================================
streamlit>=1.28.0
requests>=2.31.0
gunicorn>=21.0.0

# ============================================================================
# DATA PROCESSING & ANALYSIS (Python 3.13 wheels - NO COMPILATION)
# ============================================================================
pandas>=2.0.3,<2.2.0    # PRE-BUILT wheels for Python 3.13 (not 2.1.x!)
numpy>=1.24.0,<2.0.0    # Pre-built wheels for Python 3.13
scipy>=1.11.0           # Pre-built for Python 3.13

# ============================================================================
# VISUALIZATION
# ============================================================================
plotly>=5.17.0
matplotlib>=3.7.0
altair>=5.0.0

# ============================================================================
# TECHNICAL ANALYSIS (Phase 1-5)
# ============================================================================
ta>=0.11.0              # Technical Analysis library

# ============================================================================
# MACHINE LEARNING (Phase 3B+) - Python 3.13 compatible
# ============================================================================
scikit-learn>=1.3.0     # Machine learning
statsmodels>=0.14.0     # Statistical models (GARCH)
xgboost>=2.0.0          # XGBoost ensemble

# ============================================================================
# VOLATILITY MODELING (Phase 3 - CRITICAL)
# ============================================================================
# arch>=5.3.1            # GARCH - OPTIONAL (can skip if issues)

# ============================================================================
# WEBSOCKET & REAL-TIME DATA (Phase 4.1) - 100% PURE PYTHON
# ============================================================================
websocket-client>=1.6.0  # WebSocket connections
python-binance>=1.0.17   # Binance API wrapper
ccxt>=4.0.0              # 24+ Crypto exchanges
aiohttp>=3.9.0           # Async HTTP

# ============================================================================
# DATABASE (Phase 5)
# ============================================================================
sqlalchemy>=2.0.0        # Database ORM

# ============================================================================
# UTILITIES
# ============================================================================
python-dotenv>=1.0.0     # Environment variables
pytz>=2023.3             # Timezone handling
psutil>=5.9.6            # System monitoring
PyYAML>=6.0              # Config management

# ============================================================================
# AUTOMATION & ALERTS (Phase 3+)
# ============================================================================
python-telegram-bot>=20.0  # Telegram alerts
APScheduler>=3.10.0        # Advanced scheduling

# ============================================================================
# AUTHENTICATION (Phase 5)
# ============================================================================
bcrypt>=4.1.1            # Password hashing

# ============================================================================
# MARKET DATA & NEWS (Phase 7) - FREE APIs ONLY
# ============================================================================
textblob>=0.18.0
yfinance>=0.2.36         # Yahoo Finance (FREE)
fredapi>=0.5.1           # Federal Reserve (FREE)
pycoingecko>=3.1.0       # CoinGecko (FREE)

# ============================================================================
# SENTIMENT & SOCIAL (Phase 21)
# ============================================================================
tweepy>=4.14.0           # Twitter API
praw>=7.7.0              # Reddit API

# ============================================================================
# HMM & KALMAN (Phase 10-12 Consciousness)
# ============================================================================
hmmlearn>=0.3.0          # Hidden Markov Models
pykalman>=0.9.5          # Kalman Filter

# ============================================================================
# TESTING
# ============================================================================
pytest>=7.4.0            # Unit testing
pytest-asyncio>=0.21.0   # Async testing

# ============================================================================
# OPTIONAL PACKAGES (COMMENT OUT IF ISSUES)
# ============================================================================
# arch>=5.3.1            # GARCH volatility (optional)
# lightgbm>=4.0.0        # LightGBM (optional)
# prophet>=1.1.5         # Facebook Prophet (optional)
# pmdarima>=2.0.4        # ARIMA (has build issues on Python 3.13 - skip)
# nltk>=3.9              # NLP (optional)
# newsapi>=1.0           # News API (REMOVED - not on PyPI)

# ============================================================================
# RAILWAY DEPLOYMENT CONFIGURATION
# ============================================================================
# Python Version: 3.13.x (Railway default)
# Build Command: pip install -r requirements.txt
# Start Command: streamlit run streamlit_app.py --server.port=$PORT --server.address=0.0.0.0 --server.headless=true --client.showErrorDetails=false
#
# Environment Variables (add in Railway):
# PYTHONUNBUFFERED=1
# TZ=UTC
#
# ============================================================================
# TROUBLESHOOTING
# ============================================================================
# IF STILL BUILD ERRORS:
# 1. Comment out optional packages (arch, lightgbm, prophet)
# 2. Use only essential: streamlit, polars, plotly, requests
# 3. Add packages one-by-one after successful initial deploy
#
# BUILD TIME ESTIMATES:
# - All packages (this file): 8-15 minutes
# - Without optionals: 5-8 minutes
# - Critical-only: 2-3 minutes
#
# KNOWN ISSUES FIXED:
# ✅ pandas 2.3.3 (pre-built wheels for Python 3.13)
# ✅ numpy 1.26.4 (pre-built wheels for Python 3.13)
# ✅ scipy 1.16.3 (pre-built wheels)
# ✅ statsmodels 0.14.5 (pre-built wheels)
# ✅ Removed: pmdarima (build errors)
# ✅ Removed: newsapi (not on PyPI >= 1.0)
# ============================================================================
