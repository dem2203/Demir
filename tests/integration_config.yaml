# ============================================================================
# DEMIR AI - PHASE 15 INTEGRATION CONFIGURATION
# Full Production Configuration
# Created: November 7, 2025
# ============================================================================

# ============================================================================
# GENERAL SETTINGS
# ============================================================================
general:
  application_name: "DEMIR AI Trading Bot"
  version: "2.0"
  environment: "production"
  log_level: "INFO"
  timezone: "UTC"
  currency: "USDT"
  trading_pair: "BTCUSDT"

# ============================================================================
# BINANCE API CONFIGURATION
# ============================================================================
binance:
  api_key: "${BINANCE_API_KEY}"
  api_secret: "${BINANCE_API_SECRET}"
  testnet: false
  backup_api_key: "${BINANCE_BACKUP_KEY}"
  backup_api_secret: "${BINANCE_BACKUP_SECRET}"
  request_timeout: 10
  max_retries: 3
  backoff_factor: 1.5

# ============================================================================
# DATABASE CONFIGURATION
# ============================================================================
database:
  type: "postgresql"
  host: "localhost"
  port: 5432
  database: "demir_ai"
  username: "${DB_USERNAME}"
  password: "${DB_PASSWORD}"
  pool_size: 20
  max_overflow: 10
  echo: false
  backup_enabled: true

# ============================================================================
# REDIS CONFIGURATION (for caching)
# ============================================================================
redis:
  host: "localhost"
  port: 6379
  database: 0
  password: "${REDIS_PASSWORD}"
  pool_size: 10
  socket_timeout: 5
  socket_connect_timeout: 5

# ============================================================================
# CONSCIOUSNESS ENGINE CONFIGURATION
# ============================================================================
consciousness_engine:
  enabled: true
  update_frequency_seconds: 10
  thinking_depth: 5
  factors_count: 111
  confidence_threshold: 0.3
  regime_detection:
    algorithm: "kalman_hmm"
    regimes: ["TREND", "RANGE", "VOLATILE"]
    transition_threshold: 0.6

# ============================================================================
# BACKUP SYSTEM CONFIGURATION
# ============================================================================
backup:
  enabled: true
  backup_dir: "./backups"
  compression: "GZIP"
  retention_days: 30
  max_backups_per_type: 10
  backup_types:
    - position_state
    - trade_history
    - configuration
    - system_state
    - ml_models
  cloud_backup:
    enabled: false
    provider: "s3"
    bucket: "${BACKUP_BUCKET}"

# ============================================================================
# DISASTER RECOVERY CONFIGURATION
# ============================================================================
disaster_recovery:
  enabled: true
  recovery_timeout_seconds: 30
  connection_failover:
    enabled: true
    max_attempts: 5
    backoff_seconds: [1, 2, 4, 8, 16]
  position_sync:
    enabled: true
    sync_interval_seconds: 60
    verification_retries: 3
  margin_monitoring:
    enabled: true
    critical_threshold: 0.90
    danger_threshold: 0.80
    warning_threshold: 0.70

# ============================================================================
# LEARNING ENGINE CONFIGURATION
# ============================================================================
learning:
  enabled: true
  learning_rate: 0.01
  weight_update_frequency: 3600
  minimum_trades_for_analysis: 10
  regime_adaptation_enabled: true
  model_retraining:
    enabled: true
    retraining_frequency_hours: 4
    minimum_data_points: 100

# ============================================================================
# MONITORING DAEMON CONFIGURATION
# ============================================================================
daemon:
  enabled: true
  core_cycle_seconds: 10
  tasks:
    - name: "consciousness_thinking"
      frequency: 10
      priority: "CRITICAL"
    - name: "health_check"
      frequency: 3600
      priority: "HIGH"
    - name: "model_retraining"
      frequency: 14400
      priority: "NORMAL"
    - name: "daily_backup"
      frequency: 86400
      priority: "HIGH"
    - name: "weekly_audit"
      frequency: 604800
      priority: "NORMAL"

# ============================================================================
# WATCHDOG CONFIGURATION
# ============================================================================
watchdog:
  enabled: true
  health_check_interval_seconds: 3600
  thresholds:
    api_response_time_ms:
      warning: 1000
      critical: 5000
    database_latency_ms:
      warning: 100
      critical: 500
    memory_usage_percent:
      warning: 70
      critical: 90
    cpu_percent:
      warning: 80
      critical: 95
    error_rate_percent:
      warning: 5
      critical: 20
  recovery:
    enabled: true
    consecutive_failures_threshold: 3

# ============================================================================
# TELEGRAM ALERTS CONFIGURATION
# ============================================================================
telegram:
  enabled: true
  bot_token: "${TELEGRAM_BOT_TOKEN}"
  chat_id: "${TELEGRAM_CHAT_ID}"
  alert_levels:
    - "CRITICAL"
    - "WARNING"
    - "INFO"
  throttle_seconds: 60

# ============================================================================
# API KEYS AND SECRETS
# ============================================================================
api_keys:
  fred_api_key: "${FRED_API_KEY}"
  alpha_vantage_key: "${ALPHA_VANTAGE_KEY}"
  coinglass_key: "${COINGLASS_API_KEY}"
  glassnode_key: "${GLASSNODE_API_KEY}"
  cryptoquant_key: "${CRYPTOQUANT_API_KEY}"
  twitter_api_key: "${TWITTER_API_KEY}"
  newsapi_key: "${NEWSAPI_KEY}"

# ============================================================================
# TRADING CONFIGURATION
# ============================================================================
trading:
  enabled: true
  mode: "live"  # 'live', 'paper', 'backtest'
  position:
    max_size_btc: 10.0
    min_size_btc: 0.01
    max_leverage: 10.0
    default_leverage: 1.0
  risk:
    max_daily_loss_percent: 5.0
    max_trade_risk_percent: 2.0
    position_size_calculator: "kelly_criterion"
  orders:
    execution_timeout_seconds: 30
    verification_interval_seconds: 5
    max_retries: 3

# ============================================================================
# LOGGING CONFIGURATION
# ============================================================================
logging:
  level: "INFO"
  format: "%(asctime)s - %(name)s - %(levelname)s - %(message)s"
  files:
    - name: "demir_ai.log"
      level: "INFO"
    - name: "demir_ai_error.log"
      level: "ERROR"
    - name: "demir_ai_trades.log"
      level: "INFO"
  max_size_mb: 100
  backup_count: 10
  console_output: true

# ============================================================================
# PERFORMANCE CONFIGURATION
# ============================================================================
performance:
  cache_enabled: true
  cache_ttl_seconds: 300
  batch_processing: true
  batch_size: 100
  async_operations: true
  max_concurrent_tasks: 10
  connection_pool_size: 20

# ============================================================================
# SECURITY CONFIGURATION
# ============================================================================
security:
  ssl_verify: true
  api_key_rotation_days: 90
  encrypt_sensitive_data: true
  audit_logging_enabled: true
  ip_whitelist_enabled: false
  rate_limit_protection: true

# ============================================================================
# TESTING CONFIGURATION
# ============================================================================
testing:
  backtesting_enabled: true
  paper_trading_enabled: true
  stress_testing_enabled: true
  benchmark_enabled: true
  test_data_retention_days: 30
